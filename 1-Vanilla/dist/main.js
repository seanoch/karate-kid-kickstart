!function(){let e=0;const t={edit:"&#xe3c9",remove:"&#xe14c;",check:"&#xe876;"},n=document.getElementById("new-item-name");function c(e,n,c){const d=document.createElement("div"),l=t[n]||"&#xe145;",a=document.createElement("span");return a.classList.add("material-icons"),a.classList.add("md-36"),a.innerHTML=l,d.classList.add("btn"),d.classList.add(n+"-btn"),d.id=n+"-btn-"+e,d.appendChild(a),d.onclick=c,d}function d(e,t){const n=document.createElement("div");n.classList.add("bar"),n.classList.add("item-bar"),n.id="item-bar-"+e;const d=c(e,"check",function(e){return function(){const t=document.getElementById("check-btn-"+e);"yes"==t.dataset.checked?(t.dataset.checked="no",t.classList.remove("checked")):(t.dataset.checked="yes",t.classList.add("checked"))}}(e));n.appendChild(d);const l=document.createElement("label");l.classList.add("item"),l.id="item-label-"+e,l.innerText=t,l.ondblclick=o(e),n.appendChild(l);const a=c(e,"edit",o(e));n.appendChild(a);const i=c(e,"remove",function(e){return function(){const t=document.getElementById("item-bar-"+e);document.getElementById("main-container").removeChild(t),localStorage.removeItem(e)}}(e));return n.appendChild(i),n}function l(t){if(("click"===t.type||"keyup"===t.type&&13===t.keyCode)&&a(n.value)){const t=d(e,n.value);document.getElementById("main-container").appendChild(t),localStorage.setItem(e,n.value),n.value="",e++}}function a(e){let t=e.length>0;return t||alert("Invalid item name!"),t}function i(e){return function(t){if("click"===t.type||"keyup"===t.type&&13===t.keyCode){const t=document.getElementById("item-bar-"+e),n=document.getElementById("item-edit-"+e),d=document.getElementById("confirm-btn-"+e);if(a(n.value)){const l=document.createElement("label");l.classList.add("item"),l.id="item-label-"+e,l.innerText=n.value,l.ondblclick=o(e),t.replaceChild(l,n),localStorage.setItem(e,n.value);const a=c(e,"edit",o(e));t.replaceChild(a,d)}}}}function o(e){return function(){const t=document.getElementById("item-bar-"+e),n=document.getElementById("item-label-"+e),d=document.getElementById("edit-btn-"+e),l=n.innerText,a=document.createElement("input");a.type="text",a.classList.add("edit"),a.id="item-edit-"+e,a.value=l,a.onkeyup=i(e),t.replaceChild(a,n),a.focus();const o=c(e,"confirm",i(e));t.replaceChild(o,d)}}document.getElementById("add-btn").onclick=l,n.onkeyup=l,function(){if("undefined"!=typeof Storage){let n=[];for(var t=0;t<localStorage.length;t++)n.push(parseInt(localStorage.key(t)));for(n.sort(),t=0;t<n.length;t++){let e=n[t];const c=d(e,localStorage.getItem(e));document.getElementById("main-container").appendChild(c)}n.length>0&&(e=n[n.length-1]+1)}}()}();